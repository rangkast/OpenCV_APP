import numpy as np
import build.pnp_python_binding


xs = np.array([[-17.8431, 0.570044, 11.1874],
               [-80.6362, -23.8517, 21.0087],
               [-68.0126, 9.19776, 20.6913],
               [-8.31825, -13.5394, 23.8776],
               [-32.3177, 30.9775, 35.0005],
               [-60.5264, 3.64722, 62.0491],
               [-13.8288, -0.638686, 30.1851],
               [-25.1182, 35.7954, 81.3263],
               [0.841874, -20.8397, 42.3626],
               [-2.04336, 0.61477, 0.620302]])
ys = np.array([[-0.083742, 0.314872],
               [-0.516025, 0.0535602],
               [-0.392733, 0.51515],
               [0.400942, -0.423236],
               [0.371449, 0.98387],
               [0.123111, 0.257844],
               [0.481032, 0.102744],
               [0.850471, 0.608635],
               [0.846186, -0.652791],
               [0.154041, 0.784826]])
pose = np.array([[0.621007, 0.253154, 0.741798, 0.947568 ],
[-0.336352, 0.940907, -0.039522, 0.258716 ],
[-0.707968, -0.224961, 0.669458, 0.187565 ],
[0, 0, 0, 1 ]])



res = build.pnp_python_binding.pnp(xs, ys)
print("estimate: "+str(res))
print("gt: " +str(pose))
print("diff:\n" + str(res-pose))
print("Note that the difference is far smaller in the quaternion formulation which is used internally. Rotation matrixes are terrible for this. ")

